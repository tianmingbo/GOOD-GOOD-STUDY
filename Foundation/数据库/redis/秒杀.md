### 特征

> 1. 瞬时访问流量大
> 2. 读多写少，读操作远多于写操作，以及后续下单操作。

### 秒杀前

> 把商品详情页的页面元素静态化，然后使用CDN或是浏览器把这些静态化的元素缓存起来，请求不会走到数据库。

### 秒杀中

> 首先会读取库存量，然后减去购买量，此时需要保证原子性，可以使用Lua脚本或分布式锁。
>
> Lua脚本：首先获取库存量，然后当前请求的值加上已被秒杀的小于库存量，则脚本执行成功。
>
> 分布式锁：同时只有一个实例可以拿到锁，实际上是多个请求在竞争锁，拿到锁后进行库存扣减。